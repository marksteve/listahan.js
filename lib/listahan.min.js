(function(){function y(c,a,b){c.addEventListener?c.addEventListener(a,b,!1):c.attachEvent("on"+a,b)}function e(c){return"keypress"==c.type?String.fromCharCode(c.which):d[c.which]?d[c.which]:r[c.which]?r[c.which]:String.fromCharCode(c.which).toLowerCase()}function s(c){var c=c||{},a=!1,b;for(b in p)c[b]?a=!0:p[b]=0;a||(i=!1)}function k(c,a,b,B,e){var d,h,i=[],k=b.type;if(!j[c])return[];"keyup"==k&&l(c)&&(a=[c]);for(d=0;d<j[c].length;++d)if(h=j[c][d],!(h.seq&&p[h.seq]!=h.level)&&k==h.action&&("keypress"==
k&&!b.metaKey&&!b.ctrlKey||a.sort().join(",")===h.modifiers.sort().join(",")))B&&h.combo==e&&j[c].splice(d,1),i.push(h);return i}function u(c,b){!1===c(b)&&(b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation(),b.returnValue=!1,b.cancelBubble=!0)}function o(c){"number"!==typeof c.which&&(c.which=c.keyCode);var a=e(c);if(a)if("keyup"==c.type&&b==a)b=!1;else if(!z.stopCallback(c,c.target||c.srcElement)){var g=[];c.shiftKey&&g.push("shift");c.altKey&&g.push("alt");c.ctrlKey&&g.push("ctrl");
c.metaKey&&g.push("meta");var g=k(a,g,c),d,f={},j=!1;for(d=0;d<g.length;++d)g[d].seq?(j=!0,f[g[d].seq]=1,u(g[d].callback,c)):!j&&!i&&u(g[d].callback,c);c.type==i&&!l(a)&&s(f)}}function l(c){return"shift"==c||"ctrl"==c||"alt"==c||"meta"==c}function t(c,b,a){if(!a){if(!m){m={};for(var e in d)95<e&&112>e||d.hasOwnProperty(e)&&(m[d[e]]=e)}a=m[c]?"keydown":"keypress"}"keypress"==a&&b.length&&(a="keydown");return a}function w(c,d,g,f,z){var c=c.replace(/\s+/g," "),v=c.split(" "),h,o,q=[];if(1<v.length){var m=
c,n=g;p[m]=0;n||(n=t(v[0],[]));c=function(){i=n;++p[m];clearTimeout(a);a=setTimeout(s,1E3)};g=function(c){u(d,c);"keyup"!==n&&(b=e(c));setTimeout(s,10)};for(f=0;f<v.length;++f)w(v[f],f<v.length-1?c:g,n,m,f)}else{o="+"===c?["+"]:c.split("+");for(v=0;v<o.length;++v)h=o[v],x[h]&&(h=x[h]),g&&("keypress"!=g&&A[h])&&(h=A[h],q.push("shift")),l(h)&&q.push(h);g=t(h,q,g);j[h]||(j[h]=[]);k(h,q,{type:g},!f,c);j[h][f?"unshift":"push"]({callback:d,modifiers:q,action:g,seq:f,level:z,combo:c})}}for(var d={8:"backspace",
9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},r={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},A={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},
x={option:"alt",command:"meta","return":"enter",escape:"esc"},m,j={},n={},p={},a,b=!1,i=!1,f=1;20>f;++f)d[111+f]="f"+f;for(f=0;9>=f;++f)d[f+96]=f;y(document,"keypress",o);y(document,"keydown",o);y(document,"keyup",o);var z={bind:function(c,a,b){for(var d=c instanceof Array?c:[c],e=0;e<d.length;++e)w(d[e],a,b);n[c+":"+b]=a;return this},unbind:function(c,a){n[c+":"+a]&&(delete n[c+":"+a],this.bind(c,function(){},a));return this},trigger:function(c,a){n[c+":"+a]();return this},reset:function(){j={};
n={};return this},stopCallback:function(a,b){return-1<(" "+b.className+" ").indexOf(" mousetrap ")?!1:"INPUT"==b.tagName||"SELECT"==b.tagName||"TEXTAREA"==b.tagName||b.contentEditable&&"true"==b.contentEditable}};window.Mousetrap=z;"function"==typeof define&&define.amd&&define("mousetrap",function(){return z})})();
(function(){var y=[].slice;$.fn.listahan=function(){var e,s,k,u,o,l,t,w,d,r,A,x,m,j,n,p;r=arguments[0];A=2<=arguments.length?y.call(arguments,1):[];if("string"===typeof r)this.each(function(){return $(this).trigger(r+".listahan",A)});else{d=$.extend({$parent:$(window),root:0,showDelay:250,distance:0,submenuClass:"submenu",menuInit:function(){},menuOpen:function(){},menuItemAdd:function(a){$(this).text(a.title)},menuItemParent:function(){},menuItemActive:function(){},menuItemClick:function(){}},r);
e=$(this);k={};o=function(a){return $("li",k[a]).each(function(){var a;a=$(this).attr("id");if(k[a])return k[a].hide(),o(a)})};w=null;m=function(a,b){var i,f,j,c,l,g,n,o,m,h,p,q,s,r,u,t;if((i=k[a.id])&&!i.is(":visible"))if(i.css({position:"absolute",overflowY:"hidden",height:"auto"}).appendTo(e).show(),$("li",i).removeClass("active"),(g=d.$parent.offset())?(h=g.top,m=g.left):(h=d.$parent.scrollTop(),m=d.$parent.scrollLeft()),p=d.$parent.outerWidth(),o=d.$parent.outerHeight(),s=parseInt(i.css("border-top-width"),
10),q=parseInt(i.css("border-bottom-width"),10),u=i.offset().left,t=i.outerWidth(),r=i.outerHeight(),g=b.offset().top-s,l=b.offset().left,n=b.outerWidth(),c=b.outerHeight(),f=function(){i.removeClass("left").offset({left:l+n+d.distance})},j=function(){i.addClass("left").offset({left:l-t-d.distance})},b.parents("ul").hasClass("left")?j():(f(),0<u+t-m-p&&j()),i.offset({top:g}),f=g+r-h-o,0<f)if(c=g+c+s+q-r,h-=c,q=0,h>f?(q=f,i.offset({top:g})):(0<h&&(q=h),i.offset({top:c-q})),0<q)return i.height(r-q).css("overflow-y",
"scroll")};t={};p=d.menu;j=0;for(n=p.length;j<n;j++)l=p[j],t[l.id]=l;u=function(a){var b,i,f,j;t[a.id]=a;f=k[a.parent];f||(f=k[a.parent]=$("<ul/>").addClass(d.submenuClass),j=t[a.parent],i=(null!=j?j.parent:void 0)||d.root,b=k[i],i=$("#"+a.parent,k[i]),i=$.proxy(d.menuItemParent,i),i(j||"root",b,k));b=$("<li/>").attr("id",a.id).data("item",a).on("mouseenter",function(){var c,b,g;clearTimeout(w);c=$(this);for(b=a.parent;b!=null;){c.addClass("active").siblings().removeClass("active");b=$("li#"+b,e).addClass("active");
b=b.size()?b.data("item").parent:null}e.data("active",c.attr("id"));g=$.proxy(d.menuItemActive,this);w=setTimeout(function(){o(a.parent);m(a,c);g(a,f,k)},d.showDelay)}).on("click",function(b){$.proxy(d.menuItemClick,this)(a,f,k,b)}).appendTo(f);$.proxy(d.menuItemAdd,b)(a,f,k)};p=d.menu;j=0;for(n=p.length;j<n;j++)l=p[j],u(l);x=function(a){$("#"+a.id,k[a.parent]).remove();a=k[a.id];null!=a&&($("li",a).each(function(){var a;a=$(this);x(a.data("item"));return a.remove()}),a.remove())};e.css("position",
"absolute").hide();s=k[d.root].css("position","absolute");e.data("options",d);e.data("$submenus",k);d.menuInit(e);return e.on("add.listahan",function(a,b){u(b)}).on("remove.listahan",function(a,b){x(b)}).on("clear.listahan",function(a,b){null!=k[b]&&k[b].empty()}).on("show.listahan",function(){e.show();o(d.root);s.is(":visible")||e.append(s);$.proxy(d.menuOpen,this)(e);["up","down","left","right"].forEach(function(a){return Mousetrap.bind(a,function(b){b.preventDefault();e.trigger(a+".listahan")})})}).on("hide.listahan",
function(){e.hide();["up","down","left","right"].forEach(function(a){Mousetrap.unbind(a)})}).on("up.listahan",function(){var a,b;a=$("#"+e.data("active"),e);b=a.prev();b.size()&&(o(a.data("item").parent),m(b.data("item"),b),b.addClass("active").siblings().removeClass("active"),e.data("active",b.attr("id")))}).on("down.listahan",function(){var a,b;a=$("#"+e.data("active"),e);b=a.size()?a.next():$("li",s).first();b.size()&&(a.size()&&o(a.data("item").parent),m(b.data("item"),b),b.addClass("active").siblings().removeClass("active"),
e.data("active",b.attr("id")))}).on("left.listahan",function(){var a;l=$("#"+e.data("active"),e).data("item");a=$("#"+l.parent,e);a.size()&&(o(l.parent),a.addClass("active"),k[l.parent].hide(),e.data("active",a.attr("id")))}).on("right.listahan",function(){var a,b;a=$("#"+e.data("active"),e);l=a.data("item");b=k[l.id];null!=b&&(b=$("li",b).first(),b.size()&&(m(l,a),m(b.data("item"),b),b.addClass("active"),e.data("active",b.attr("id"))))})}}}).call(this);
